/*
 * Hyperslider Plugin
 * Copyright 2016 by Pogadz
 */

!function(n){function t(e){var a,s,o,r,d=this,l=n.extend({},t.DEFAULTS,e,d.data()),c=function(i){if("function"==typeof(i=Function("return ("+i+")")()))return i(d,l)};return c(l.before),o=new function(t,e){var a,s=this,o=1;this.init=function(){n(t).find(".slides").addClass(e.animation),n(t).find("active")&&n(t).addClass("no-transition").find(".slide-box").first().addClass("active"),s.generateIndicator(),s.setCurrentIndicator(1),e.autoplay&&s.autoplay(e.delay)},this.previous=function(){o=o>1?o-1:t.find(".slide-box").length,s.setCurrent(o),s.setCurrentIndicator(o),s.removeNoTransition()},this.next=function(){o=o<n(t).find(".slide-box").length?o+1:1,s.setCurrent(o),s.setCurrentIndicator(o),s.removeNoTransition()},this.indicator=function(i){s.setCurrent(i),o=parseInt(i),s.setCurrentIndicator(i)},this.setCurrentIndicator=function(i){t.find(".slide-nav span").removeClass("active"),t.find(".slide-nav-"+i).addClass("active")},this.setCurrent=function(i){t.find(".slide-box").removeClass("active"),t.find("#slide-box-"+i).addClass("active")},this.generateIndicator=function(){var n="";for(i=1;i<=t.find(".slide-box").length;i++)n+='<span class="slide-nav-'+i+'">'+i+"</span>";t.append('<div class="slide-nav"></div>'),t.find(".slide-nav").html(n)},this.removeNoTransition=function(){n(t).removeClass("no-transition")},this.disableClickTransition=function(i){n(i).prop("disabled",!0),setTimeout(function(){n(i).prop("disabled",!1)},500)},this.autoplay=function(i){a=setTimeout(function(){s.autoplay(),s.next(t)},e.delay)},this.resetDelay=function(){clearTimeout(a)}}(a=d,s=l),r=function(){o.resetDelay(),s.autoplay&&o.autoplay(s.delay)},o.init(a),n(a).find(".slide-nav span").on("click",function(){o.indicator(n(this).text()),o.removeNoTransition(a),r()}),n(a).find(".slide-box").each(function(){var i=n(this),t=i.index()+1;i.attr("id","slide-box-"+t)}),n(a).find(".slide-prev").click(function(){o.previous(a),o.disableClickTransition(this),r()}),n(a).find(".slide-next").click(function(){o.next(a),o.disableClickTransition(this),r()}),c(l.after),l}n.fn.hyperslider=t,t.DEFAULTS={animation:"fade",autoplay:!1,delay:1e3,after:null,before:null},n(function(){n("[data-hyperslider]").each(function(){n(this).hyperslider()})})}(jQuery);